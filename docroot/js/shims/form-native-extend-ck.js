jQuery.webshims.register("form-extend",function(e,t,n,r,i,s){n=n.Modernizr;i=n.inputtypes;if(n.formvalidation&&!t.bugs.bustedValidity){var o=t.inputTypes,u={};t.addInputType=function(e,t){o[e]=t};t.addValidityRule=function(e,t){u[e]=t};t.addValidityRule("typeMismatch",function(e,t,n,r){if(""===t)return!1;r=r.typeMismatch;"type"in n||(n.type=(e[0].getAttribute("type")||"").toLowerCase());o[n.type]&&o[n.type].mismatch&&(r=o[n.type].mismatch(t,e));return r});var a=s.overrideMessages,f=!i.number||!i.time||!i.range||a,l="customError,typeMismatch,rangeUnderflow,rangeOverflow,stepMismatch,tooLong,patternMismatch,valueMissing,valid".split(","),s=a?["value","checked"]:["value"],c=[],h=function(t,n){if(t){var i=(t.getAttribute&&t.getAttribute("type")||t.type||"").toLowerCase();if(a||o[i])a&&!n&&"radio"==i&&t.name?e(r.getElementsByName(t.name)).each(function(){e.prop(this,"validity")}):e.prop(t,"validity")}},p={};["input","textarea","select"].forEach(function(n){var r=t.defineNodeNameProperty(n,"setCustomValidity",{prop:{value:function(i){var i=i+"",s="input"==n?e(this).getNativeElement()[0]:this;r.prop._supvalue.call(s,i);t.bugs.validationMessage&&t.data(s,"customvalidationMessage",i);f&&(t.data(s,"hasCustomError",!!i),h(s))}}});p[n]=r.prop._supvalue});if(f||a)s.push("min"),s.push("max"),s.push("step"),c.push("input");a&&(s.push("required"),s.push("pattern"),c.push("select"),c.push("textarea"));if(f){var d;c.forEach(function(n){var r=t.defineNodeNameProperty(n,"validity",{prop:{get:function(){if(!d){var i="input"==n?e(this).getNativeElement()[0]:this,s=r.prop._supget.call(i);if(!s)return s;var f={};l.forEach(function(e){f[e]=s[e]});if(!e.prop(i,"willValidate"))return f;d=!0;var c=e(i),h={type:(i.getAttribute&&i.getAttribute("type")||"").toLowerCase(),nodeName:(i.nodeName||"").toLowerCase()},v=c.val(),m=!!t.data(i,"hasCustomError"),g;d=!1;f.customError=m;if(f.valid&&f.customError)f.valid=!1;else if(!f.valid){var y=!0;e.each(f,function(e,t){if(t)return y=!1});y&&(f.valid=!0)}e.each(u,function(e,r){f[e]=r(c,v,h,f);f[e]&&(f.valid||!g)&&(a||o[h.type]&&o[h.type].mismatch)&&(p[n].call(i,t.createValidationMessage(i,e)),f.valid=!1,g=!0)});f.valid?(p[n].call(i,""),t.data(i,"hasCustomError",!1)):a&&!g&&!m&&e.each(f,function(e,r){if("valid"!==e&&r)return p[n].call(i,t.createValidationMessage(i,e)),!1});return f}},writeable:!1}})});s.forEach(function(e){t.onNodeNamesPropertyModify(c,e,function(){h(this)})});if(r.addEventListener){var v,m=function(t){if("form"in t.target){var n=t.target.form;clearTimeout(v);h(t.target);n&&a&&e("input",n).each(function(){"password"==this.type&&h(this)})}};r.addEventListener("change",m,!0);a&&(r.addEventListener("blur",m,!0),r.addEventListener("keydown",function(e){13==e.keyCode&&m(e)},!0));r.addEventListener("input",function(e){clearTimeout(v);v=setTimeout(function(){h(e.target)},290)},!0)}var g=c.join(",");t.addReady(function(t,n){e(g,t).add(n.filter(g)).each(function(){e.prop(this,"validity")})});a&&t.ready("DOM form-message",function(){t.activeLang({register:"form-core",callback:function(){e("input, select, textarea").getNativeElement().each(function(){if(!t.data(this,"hasCustomError")){var n=this,r=e.prop(n,"validity")||{valid:!0},i;r.valid||(i=(n.nodeName||"").toLowerCase(),e.each(r,function(e,r){if("valid"!==e&&r)return p[i].call(n,t.createValidationMessage(n,e)),!1}))}})}})})}t.defineNodeNameProperty("input","type",{prop:{get:function(){var e=(this.getAttribute("type")||"").toLowerCase();return t.inputTypes[e]?e:this.type}}})}});