jQuery.webshims.register("form-number-date-api",function(e,t){var n,r,i,s;t.getStep||(t.getStep=function(t,r){var i=e.attr(t,"step");if("any"===i)return i;r=r||l(t);if(!u[r]||!u[r].step)return i;i=n.asNumber(i);return(!isNaN(i)&&0<i?i:u[r].step)*u[r].stepScaleFactor});t.addMinMaxNumberToCache||(t.addMinMaxNumberToCache=function(e,t,n){e+"AsNumber"in n||(n[e+"AsNumber"]=u[n.type].asNumber(t.attr(e)),isNaN(n[e+"AsNumber"])&&e+"Default"in u[n.type]&&(n[e+"AsNumber"]=u[n.type][e+"Default"]))});var o=parseInt("NaN",10),u=t.inputTypes,a=function(e){return"number"==typeof e||e&&e==1*e},f=function(t){return e('<input type="'+t+'" />').prop("type")===t},l=function(e){return(e.getAttribute("type")||"").toLowerCase()},c=t.addMinMaxNumberToCache,h=function(e,t){for(var e=""+e,t=t-e.length,n=0;n<t;n++)e="0"+e;return e},p=t.bugs.bustedValidity;t.addValidityRule("stepMismatch",function(e,n,r,i){if(""===n)return!1;"type"in r||(r.type=l(e[0]));if("date"==r.type)return!1;i=(i||{}).stepMismatch;if(u[r.type]&&u[r.type].step){"step"in r||(r.step=t.getStep(e[0],r.type));if("any"==r.step)return!1;"valueAsNumber"in r||(r.valueAsNumber=u[r.type].asNumber(n));if(isNaN(r.valueAsNumber))return!1;c("min",e,r);e=r.minAsNumber;isNaN(e)&&(e=u[r.type].stepBase||0);i=Math.abs((r.valueAsNumber-e)%r.step);i=!(1e-7>=i||1e-7>=Math.abs(i-r.step))}return i});[{name:"rangeOverflow",attr:"max",factor:1},{name:"rangeUnderflow",attr:"min",factor:-1}].forEach(function(e){t.addValidityRule(e.name,function(t,n,r,i){i=(i||{})[e.name]||!1;if(""===n)return i;"type"in r||(r.type=l(t[0]));if(u[r.type]&&u[r.type].asNumber){"valueAsNumber"in r||(r.valueAsNumber=u[r.type].asNumber(n));if(isNaN(r.valueAsNumber))return!1;c(e.attr,t,r);if(isNaN(r[e.attr+"AsNumber"]))return i;i=r[e.attr+"AsNumber"]*e.factor<r.valueAsNumber*e.factor-1e-7}return i})});t.reflectProperties(["input"],["max","min","step"]);var d=t.defineNodeNameProperty("input","valueAsNumber",{prop:{get:function(){var t=l(this),t=u[t]&&u[t].asNumber?u[t].asNumber(e.prop(this,"value")):d.prop._supget&&d.prop._supget.apply(this,arguments);null==t&&(t=o);return t},set:function(n){var r=l(this);u[r]&&u[r].numberToString?isNaN(n)?e.prop(this,"value",""):(r=u[r].numberToString(n),!1!==r?e.prop(this,"value",r):t.warn("INVALID_STATE_ERR: DOM Exception 11")):d.prop._supset&&d.prop._supset.apply(this,arguments)}}}),v=t.defineNodeNameProperty("input","valueAsDate",{prop:{get:function(){var t=l(this);return u[t]&&u[t].asDate&&!u[t].noAsDate?u[t].asDate(e.prop(this,"value")):v.prop._supget&&v.prop._supget.call(this)||null},set:function(n){var r=l(this);if(!(u[r]&&u[r].dateToString&&!u[r].noAsDate))return v.prop._supset&&v.prop._supset.apply(this,arguments)||null;if(null===n)return e.prop(this,"value",""),"";r=u[r].dateToString(n);if(!1!==r)return e.prop(this,"value",r),r;t.warn("INVALID_STATE_ERR: DOM Exception 11")}}});n={mismatch:function(e){return!a(e)},step:1,stepScaleFactor:1,asNumber:function(e){return a(e)?1*e:o},numberToString:function(e){return a(e)?e:!1}};r={minDefault:0,maxDefault:100};i={mismatch:function(t){if(!t||!t.split||!/\d$/.test(t))return!0;var n=t.split(/\u002D/);if(3!==n.length)return!0;var r=!1;e.each(n,function(e,t){if(!(a(t)||t&&t=="0"+1*t))return r=!0,!1});if(r)return r;if(4!==n[0].length||2!=n[1].length||12<n[1]||2!=n[2].length||33<n[2])r=!0;return t!==this.dateToString(this.asDate(t,!0))},step:1,stepScaleFactor:864e5,asDate:function(e,t){return!t&&this.mismatch(e)?null:new Date(this.asNumber(e,!0))},asNumber:function(e,t){var n=o;if(t||!this.mismatch(e))e=e.split(/\u002D/),n=Date.UTC(e[0],e[1]-1,e[2]);return n},numberToString:function(e){return a(e)?this.dateToString(new Date(1*e)):!1},dateToString:function(e){return e&&e.getFullYear?e.getUTCFullYear()+"-"+h(e.getUTCMonth()+1,2)+"-"+h(e.getUTCDate(),2):!1}};s={mismatch:function(t,n){if(!t||!t.split||!/\d$/.test(t))return!0;t=t.split(/\u003A/);if(2>t.length||3<t.length)return!0;var r=!1,i;t[2]&&(t[2]=t[2].split(/\u002E/),i=parseInt(t[2][1],10),t[2]=t[2][0]);e.each(t,function(e,t){if(!(a(t)||t&&t=="0"+1*t)||2!==t.length)return r=!0,!1});if(r||23<t[0]||0>t[0]||59<t[1]||0>t[1]||t[2]&&(59<t[2]||0>t[2])||i&&isNaN(i))return!0;i&&(100>i?i*=100:10>i&&(i*=10));return!0===n?[t,i]:!1},step:60,stepBase:0,stepScaleFactor:1e3,asDate:function(e){e=new Date(this.asNumber(e));return isNaN(e)?null:e},asNumber:function(e){var t=o,e=this.mismatch(e,!0);!0!==e&&(t=Date.UTC("1970",0,1,e[0][0],e[0][1],e[0][2]||0),e[1]&&(t+=e[1]));return t},dateToString:function(e){if(e&&e.getUTCHours){var t=h(e.getUTCHours(),2)+":"+h(e.getUTCMinutes(),2),n=e.getSeconds();"0"!=n&&(t+=":"+h(n,2));n=e.getUTCMilliseconds();"0"!=n&&(t+="."+h(n,3));return t}return!1}};if(p||!f("range")||!f("time"))r=e.extend({},n,r),s=e.extend({},i,s);(p||!f("number"))&&t.addInputType("number",n);(p||!f("range"))&&t.addInputType("range",r);(p||!f("date"))&&t.addInputType("date",i);(p||!f("time"))&&t.addInputType("time",s)});