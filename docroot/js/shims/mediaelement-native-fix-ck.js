jQuery.webshims.register("mediaelement-native-fix",function(e,t,n,r){if(!Modernizr.videoBuffered){var i=function(e){var n=t.data(e,"mediaelementBuffered");n||(n={buffered:{start:function(e){if(!(e>=n.buffered.length))return 0;t.error("buffered index size error")},end:function(e){if(!(e>=n.buffered.length))return n.loaded;t.error("buffered index size error")},length:0},loaded:0},t.data(e,"mediaelementBuffered",n));return n},s=function(n){if((n=n.originalEvent)&&"lengthComputable"in n){var r=t.data(n.target,"mediaelement");if((!r||"html5"==r.isActive)&&n.lengthComputable&&"loaded"in n){var r=n.target.duration,s=i(n.target);s.loaded=r?n.loaded/n.total*r:0;s.loaded&&(s.buffered.length=1);"load"==n.type&&e(n.target).triggerHandler("progress")}}},o=function(e){e=i(e.target);e.buffered.length=0;e.loaded=0};["audio","video"].forEach(function(e){var n=t.defineNodeNameProperty(e,"buffered",{prop:{get:function(){var e=t.data(this,"mediaelement");if(!e||"flash"!=e.isActive||!n.prop._supget)return i(this).buffered;n.prop._supget.apply(this)}}})});(function(){var e=r.createElement("video");if(!("preload"in e)&&"autobuffer"in e){var n={metadata:1,none:1};t.onNodeNamesPropertyModify(["audio","video"],["preload"],{set:function(e,r,i){n[e]||"removeAttr"==i?this.autobuffer=!1:"html5"==!(t.data(this,"mediaelement")||{}).isActive&&(this.autobuffer=!0)},initAttr:!0})}})();t.addReady(function(t,n){e("video, audio",t).add(n.filter("video, audio")).on("load progress",s).on("emptied",o)})}});